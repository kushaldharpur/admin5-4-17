<!--
  Generated template for the AddBooks page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-toolbar>
        <ion-title>
            <ion-icon name="home" (click)="home()"></ion-icon> Kalinga Library
        </ion-title>
    </ion-toolbar>
    <ion-navbar color="secondary">
        <ion-title class="title">
            Add Books
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <ion-card>
        <ion-card-header></ion-card-header>
        <ion-card-content>

            <!--<h1><i>Scan the Barcode to add the book to the list.</i></h1>-->
            <!--<form>
                <div>
                    <input type="text" id="isbn" name="isbn" placeholder="Please Enter ISBN here...">
                </div>
                <br>
                <button class="button2" ion-button full (click)="addBook(9788126533671)">Submit</button>
            </form>-->

            <form>
                <div>
                    <ion-row>
                        <ion-col width-75>
                            <input type="text" [(ngModel)]="isbn" id="isbn" name="isbn" placeholder="Please Enter ISBN here..."></ion-col>
                        <ion-col width-25><button class="button1" ion-button full (click)="scanBook()">Scan</button></ion-col>
                    </ion-row>
                </div>
                <br>
                <button class="button2" ion-button full (click)="addBook(isbn)">Submit</button>
            </form>
            <div *ngIf="showDetails">
                <form #isbnForm="ngForm">
                    <ion-item>
                        <ion-label>Title</ion-label>
                        <ion-input type="text" value="{{title}}" name="title" disabled></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>Author</ion-label>
                        <ion-input type="text" value="{{author}}" name="author" disabled></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>Publisher</ion-label>
                        <ion-input type="text" value="{{publisher}}" name="publisher" disabled></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>Genre</ion-label>
                        <ion-select name="dropdown" [(ngModel)]="selectedValue" required="required">
                            <ion-option value="Others">Others</ion-option>
                            <ion-option value="History">History</ion-option>
                            <ion-option value="Technology">Technology</ion-option>
                            <ion-option value="Fiction">Fiction</ion-option>
                            <ion-option value="Managment">Managment</ion-option>
                        </ion-select>
                    </ion-item>
                    <ion-item>
                        <ion-label>Number of Copies</ion-label>
                        <ion-input type="number" [(ngModel)]=Copies name="copies" required></ion-input>
                    </ion-item>

                    <button class="button2" ion-button full (click)="addNewBook(isbnForm.value,selectedValue)">Add Book</button>
                </form>
            </div>
            <div *ngIf="noDetails">
                <p>Entered ISBN Details Does Not Exist!!</p>
            </div>
            <br>
        </ion-card-content>
    </ion-card>
</ion-content>